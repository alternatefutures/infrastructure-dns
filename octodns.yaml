---
# OctoDNS Configuration - Multi-provider DNS sync
# Keeps Cloudflare and NS1 in sync for resilience

providers:
  # Source of truth - YAML zone files
  yaml:
    class: octodns.provider.yaml.YamlProvider
    directory: ./zones
    default_ttl: 300
    enforce_order: true

  # Cloudflare (Primary)
  cloudflare:
    class: octodns_cloudflare.CloudflareProvider
    token: env/CLOUDFLARE_API_TOKEN

  # NS1 (Secondary - free tier 500k queries/mo)
  ns1:
    class: octodns_ns1.Ns1Provider
    api_key: env/NS1_API_KEY

  # Google Cloud DNS (Optional - requires GCP account)
  # google:
  #   class: octodns_googlecloud.GoogleCloudProvider
  #   project: alternatefutures
  #   credentials_file: env/GOOGLE_APPLICATION_CREDENTIALS

zones:
  alternatefutures.ai.:
    sources:
      - yaml
    targets:
      - cloudflare
      - ns1
